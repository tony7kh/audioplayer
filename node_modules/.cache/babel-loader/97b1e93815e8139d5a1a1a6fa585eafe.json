{"ast":null,"code":"import { gql } from \"../../utils/GQL\";\nimport { actionPromise } from \"./ActionPromise\";\nimport { actionAuthLogin } from \"./ActionAuthLogin\";\nexport const actionFullLogin = (login, password) => async dispatch => {\n  //тут надо задиспатчить промис логина\n  const gqlQuery = `query log($login:String!, $password:String!){\n                          login(login:$login, password:$password)\n                      }`;\n  const gqlPromise = gql(gqlQuery, {\n    login,\n    password\n  });\n  const action = actionPromise(\"login\", gqlPromise);\n  console.log(\"ща будет PENDING\");\n  const result = await dispatch(action); //тут мы получаем токен\n\n  console.log(\"ща был FULFILLED\");\n  dispatch(actionAuthLogin(result));\n  console.log(\"ТОКА ШО ОТДАЛ В AUTH REDUCER\");\n};","map":{"version":3,"names":["gql","actionPromise","actionAuthLogin","actionFullLogin","login","password","dispatch","gqlQuery","gqlPromise","action","console","log","result"],"sources":["/Users/administrator/Desktop/audioplayer-project/src/redux/actions/ActionFullLogin.js"],"sourcesContent":["import { gql } from \"../../utils/GQL\";\nimport { actionPromise } from \"./ActionPromise\";\nimport { actionAuthLogin } from \"./ActionAuthLogin\";\n\nexport const actionFullLogin = (login, password) => async (dispatch) => {\n  //тут надо задиспатчить промис логина\n  const gqlQuery = `query log($login:String!, $password:String!){\n                          login(login:$login, password:$password)\n                      }`;\n  const gqlPromise = gql(gqlQuery, { login, password });\n  const action = actionPromise(\"login\", gqlPromise);\n  console.log(\"ща будет PENDING\");\n  const result = await dispatch(action); //тут мы получаем токен\n  console.log(\"ща был FULFILLED\");\n\n  dispatch(actionAuthLogin(result));\n  console.log(\"ТОКА ШО ОТДАЛ В AUTH REDUCER\");\n};\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,iBAApB;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,eAAT,QAAgC,mBAAhC;AAEA,OAAO,MAAMC,eAAe,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB,MAAOC,QAAP,IAAoB;EACtE;EACA,MAAMC,QAAQ,GAAI;AACpB;AACA,wBAFE;EAGA,MAAMC,UAAU,GAAGR,GAAG,CAACO,QAAD,EAAW;IAAEH,KAAF;IAASC;EAAT,CAAX,CAAtB;EACA,MAAMI,MAAM,GAAGR,aAAa,CAAC,OAAD,EAAUO,UAAV,CAA5B;EACAE,OAAO,CAACC,GAAR,CAAY,kBAAZ;EACA,MAAMC,MAAM,GAAG,MAAMN,QAAQ,CAACG,MAAD,CAA7B,CARsE,CAQ/B;;EACvCC,OAAO,CAACC,GAAR,CAAY,kBAAZ;EAEAL,QAAQ,CAACJ,eAAe,CAACU,MAAD,CAAhB,CAAR;EACAF,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACD,CAbM"},"metadata":{},"sourceType":"module"}