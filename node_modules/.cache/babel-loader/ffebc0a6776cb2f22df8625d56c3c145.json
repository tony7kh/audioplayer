{"ast":null,"code":"import { URL } from \"../Constants\";\n\nconst getGQL = url => function (query) {\n  let variables = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(localStorage.authToken ? {\n        Authorization: \"Bearer \" + localStorage.authToken\n      } : {}),\n      Accept: \"application/json\"\n    },\n    body: JSON.stringify({\n      query,\n      variables\n    })\n  }).then(res => res.json()).then(data => {\n    if (data.data) {\n      return Object.values(data.data)[0];\n    } else throw new Error(JSON.stringify(data.errors));\n  });\n};\n\nexport const gql = getGQL(`${URL}graphql`);","map":{"version":3,"names":["URL","getGQL","url","query","variables","fetch","method","headers","localStorage","authToken","Authorization","Accept","body","JSON","stringify","then","res","json","data","Object","values","Error","errors","gql"],"sources":["/Users/administrator/Desktop/like spotify/course-project/src/utils/GQL.js"],"sourcesContent":["import {URL} from \"../Constants\";\n\nconst getGQL =\n  (url) =>\n  (query, variables = {}) =>\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...(localStorage.authToken\n          ? { Authorization: \"Bearer \" + localStorage.authToken }\n          : {}),\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({ query, variables }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.data) {\n          return Object.values(data.data)[0];\n        } else throw new Error(JSON.stringify(data.errors));\n      });\n\nexport const gql = getGQL(`${URL}graphql`);\n"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,cAAlB;;AAEA,MAAMC,MAAM,GACTC,GAAD,IACA,UAACC,KAAD;EAAA,IAAQC,SAAR,uEAAoB,EAApB;EAAA,OACEC,KAAK,CAACH,GAAD,EAAM;IACTI,MAAM,EAAE,MADC;IAETC,OAAO,EAAE;MACP,gBAAgB,kBADT;MAEP,IAAIC,YAAY,CAACC,SAAb,GACA;QAAEC,aAAa,EAAE,YAAYF,YAAY,CAACC;MAA1C,CADA,GAEA,EAFJ,CAFO;MAKPE,MAAM,EAAE;IALD,CAFA;IASTC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MAAEX,KAAF;MAASC;IAAT,CAAf;EATG,CAAN,CAAL,CAWGW,IAXH,CAWSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAXjB,EAYGF,IAZH,CAYSG,IAAD,IAAU;IACd,IAAIA,IAAI,CAACA,IAAT,EAAe;MACb,OAAOC,MAAM,CAACC,MAAP,CAAcF,IAAI,CAACA,IAAnB,EAAyB,CAAzB,CAAP;IACD,CAFD,MAEO,MAAM,IAAIG,KAAJ,CAAUR,IAAI,CAACC,SAAL,CAAeI,IAAI,CAACI,MAApB,CAAV,CAAN;EACR,CAhBH,CADF;AAAA,CAFF;;AAqBA,OAAO,MAAMC,GAAG,GAAGtB,MAAM,CAAE,GAAED,GAAI,SAAR,CAAlB"},"metadata":{},"sourceType":"module"}