{"ast":null,"code":"var _jsxFileName = \"/Users/administrator/Desktop/react_js/course-project/src/components/ListOfTracks.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport \"../style/ListOfTracks.css\";\nimport { HOME_PAGE_PATH } from \"../Constants\";\nimport isEmpty from \"lodash.isempty\";\nimport { actionTrackByID } from \"../redux/actions/ActionTrackByID\";\nimport { store } from \"../redux/Store\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Box from \"@mui/material/Box\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport AudiotrackIcon from \"@mui/icons-material/Audiotrack\";\nimport { Typography } from \"@mui/material\";\nimport { actionGetTrack, actionSetIndex } from \"../redux/actions/playerActions/playerActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TrackItem = _ref => {\n  let {\n    track\n  } = _ref;\n  const {\n    _id,\n    originalFileName\n  } = track;\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    className: \"Tracklist-item\",\n    disablePadding: true,\n    children: /*#__PURE__*/_jsxDEV(ListItemButton, {\n      onClick: () => {\n        store.dispatch(actionTrackByID(_id));\n        store.dispatch(actionGetTrack(track));\n      },\n      children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n        children: /*#__PURE__*/_jsxDEV(AudiotrackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n        color: \"primary\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          underline: \"hover\",\n          color: \"primary\",\n          to: `${HOME_PAGE_PATH}/track/${_id}`,\n          children: originalFileName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_c = TrackItem;\n\nconst TrackList = _ref2 => {\n  _s();\n\n  let {\n    tracks = [],\n    selectedID,\n    playlistName\n  } = _ref2;\n  useEffect(() => {\n    if (selectedID && tracks !== null) {\n      console.log(\"selected ID\", selectedID);\n      const indexOfTrack = tracks.findIndex(track => track._id === selectedID);\n      console.log(\"index\", indexOfTrack);\n      store.dispatch(actionSetIndex(indexOfTrack));\n    }\n  }, [tracks, selectedID]);\n  const [value, setValue] = useState(\"\");\n  const filtredTracks = tracks.filter(track => {\n    var _track$name, _track$name$toLowerCa;\n\n    return track === null || track === void 0 ? void 0 : (_track$name = track.name) === null || _track$name === void 0 ? void 0 : (_track$name$toLowerCa = _track$name.toLowerCase()) === null || _track$name$toLowerCa === void 0 ? void 0 : _track$name$toLowerCa.includes(value.toLowerCase());\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"Tracklist\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      color: \"primary\",\n      variant: \"h5\",\n      children: playlistName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), !isEmpty(tracks) && tracks !== null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        sx: {\n          \"& > :not(style)\": {\n            m: 1,\n            minWidth: \"400px\"\n          }\n        },\n        noValidate: true,\n        autoComplete: \"off\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Search a playlist\",\n          color: \"primary\",\n          focused: true,\n          type: \"text\",\n          className: \"search_input\",\n          onChange: event => setValue(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        className: \"Tracklist-list\",\n        children: tracks.map(track => /*#__PURE__*/_jsxDEV(TrackItem, {\n          track: track\n        }, track._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : \"\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TrackList, \"v7Yk1w38liyvTwbmnPXzElLapkk=\");\n\n_c2 = TrackList;\nexport const CTrackList = connect(state => {\n  var _state$player, _state$player$playlis, _state$promise, _state$promise$trackB, _state$promise$trackB2, _state$player2, _state$player2$playli;\n\n  return {\n    tracks: (_state$player = state.player) === null || _state$player === void 0 ? void 0 : (_state$player$playlis = _state$player.playlist) === null || _state$player$playlis === void 0 ? void 0 : _state$player$playlis.tracks,\n    selectedID: (_state$promise = state.promise) === null || _state$promise === void 0 ? void 0 : (_state$promise$trackB = _state$promise.trackByID) === null || _state$promise$trackB === void 0 ? void 0 : (_state$promise$trackB2 = _state$promise$trackB.payload) === null || _state$promise$trackB2 === void 0 ? void 0 : _state$promise$trackB2._id,\n    playlistName: (_state$player2 = state.player) === null || _state$player2 === void 0 ? void 0 : (_state$player2$playli = _state$player2.playlist) === null || _state$player2$playli === void 0 ? void 0 : _state$player2$playli.name\n  };\n})(TrackList);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TrackItem\");\n$RefreshReg$(_c2, \"TrackList\");","map":{"version":3,"names":["React","useEffect","HOME_PAGE_PATH","isEmpty","actionTrackByID","store","connect","Link","Box","List","ListItem","ListItemButton","ListItemIcon","ListItemText","AudiotrackIcon","Typography","actionGetTrack","actionSetIndex","TrackItem","track","_id","originalFileName","dispatch","TrackList","tracks","selectedID","playlistName","console","log","indexOfTrack","findIndex","value","setValue","useState","filtredTracks","filter","name","toLowerCase","includes","m","minWidth","event","target","map","CTrackList","state","player","playlist","promise","trackByID","payload"],"sources":["/Users/administrator/Desktop/react_js/course-project/src/components/ListOfTracks.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport \"../style/ListOfTracks.css\";\nimport { HOME_PAGE_PATH } from \"../Constants\";\nimport isEmpty from \"lodash.isempty\";\n\nimport { actionTrackByID } from \"../redux/actions/ActionTrackByID\";\nimport { store } from \"../redux/Store\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport Box from \"@mui/material/Box\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport AudiotrackIcon from \"@mui/icons-material/Audiotrack\";\nimport { Typography } from \"@mui/material\";\n\nimport {\n  actionGetTrack,\n  actionSetIndex,\n} from \"../redux/actions/playerActions/playerActions\";\n\nconst TrackItem = ({ track }) => {\n  const { _id, originalFileName } = track;\n\n  return (\n    <ListItem className=\"Tracklist-item\" disablePadding>\n      <ListItemButton\n        onClick={() => {\n          store.dispatch(actionTrackByID(_id));\n          store.dispatch(actionGetTrack(track));\n        }}\n      >\n        <ListItemIcon>\n          <AudiotrackIcon />\n        </ListItemIcon>\n        <ListItemText color={\"primary\"}>\n          <Link\n            underline=\"hover\"\n            color=\"primary\"\n            to={`${HOME_PAGE_PATH}/track/${_id}`}\n          >\n            {originalFileName}\n          </Link>\n        </ListItemText>\n      </ListItemButton>\n    </ListItem>\n  );\n};\nconst TrackList = ({ tracks = [], selectedID, playlistName }) => {\n  useEffect(() => {\n    if (selectedID && tracks !== null) {\n      console.log(\"selected ID\", selectedID);\n      const indexOfTrack = tracks.findIndex(\n        (track) => track._id === selectedID\n      );\n      console.log(\"index\", indexOfTrack);\n      store.dispatch(actionSetIndex(indexOfTrack));\n    }\n  }, [tracks, selectedID]);\n  const [value, setValue] = useState(\"\");\n\n  const filtredTracks = tracks.filter((track) => {\n    return track?.name?.toLowerCase()?.includes(value.toLowerCase());\n  });\n\n  return (\n    <Box className=\"Tracklist\">\n      <Typography color={\"primary\"} variant=\"h5\">\n        {playlistName}\n      </Typography>\n      {!isEmpty(tracks) && tracks !== null ? (\n        <>\n          <Box\n            component=\"form\"\n            sx={{\n              \"& > :not(style)\": { m: 1, minWidth: \"400px\" },\n            }}\n            noValidate\n            autoComplete=\"off\"\n          >\n            <TextField\n              label=\"Search a playlist\"\n              color=\"primary\"\n              focused\n              type=\"text\"\n              className=\"search_input\"\n              onChange={(event) => setValue(event.target.value)}\n            />\n          </Box>\n          <List className=\"Tracklist-list\">\n            {tracks.map((track) => (\n              <TrackItem track={track} key={track._id} />\n            ))}\n          </List>\n        </>\n      ) : (\n        \"\"\n      )}\n    </Box>\n  );\n};\n\nexport const CTrackList = connect((state) => ({\n  tracks: state.player?.playlist?.tracks,\n  selectedID: state.promise?.trackByID?.payload?._id,\n  playlistName: state.player?.playlist?.name,\n}))(TrackList);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}